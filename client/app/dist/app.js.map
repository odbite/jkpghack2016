{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["'use strict';\n\nangular.module('navotron.config', [\n    'navotron.notification',\n])\n\n.config([\"$httpProvider\", \"notificationProvider\", \"oauth2Provider\", function($httpProvider, notificationProvider, oauth2Provider) {\n\n    // Do not cache http calls\n    $httpProvider.defaults.cache = false;\n\n    // Show notifications for 5 seconds\n    notificationProvider.setTimeout(8000);\n\n    // Configurations for the oauth2 provider\n    oauth2Provider.setClientDetails({\n        url: '/oauth2/token/',\n        clientId: 'qT.pfokMO=1X.j6Pz4jB4L-.P_S1O9abTiFoqPj9',\n        clientSecret: 'YeFV?UweZ6P!oeVFFIPN5NkicXB8tHFh@PC0ACZF@htyF4gxcb8iDd?VC2;E3bpkP_.ApQob!JtwolA0FJDc-DBzAHDZ8?dnmCMsMc1qTM8TcB!0C!.q?TYjpswEo2MX',\n    });\n}]);\n\n'use strict';\n\nangular.module('navotron.constants', [])\n\n.constant('AUTH_EVENTS', {\n    loginSuccess: 'auth-login-success',\n    loginFailed: 'auth-login-failed',\n    logoutSuccess: 'auth-logout-success',\n    sessionTimeout: 'auth-session-timeout',\n    notAuthenticated: 'auth-not-authenticated',\n    notAuthorized: 'auth-not-authorized'\n})\n\n.constant('USER_ROLES', {\n    all: '*',\n    admin: 'admin',\n    editor: 'editor'\n});\n\n'use strict';\n\nangular.module('navotron', [\n    'navotron.api',\n    'navotron.authService',\n    'navotron.broadcastInterceptor',\n    'navotron.config',\n    'navotron.run',\n    'navotron.constants',\n    'navotron.credits',\n    'navotron.datadef',\n    'navotron.directives',\n    'navotron.login',\n    'navotron.navbar',\n    'navotron.notification',\n    'navotron.resolver',\n    'navotron.routes',\n    'navotron.session',\n    'navotron.workAreaSettings',\n    'navotron.templates',\n    'navotron.workArea',\n    'navotron.workAreaList',\n\n    'angular-extend-promises',\n    'ngAnimate',\n    'ui.router',\n    'ui.bootstrap'\n]);\n\n'use strict';\n\nangular.module('navotron.routes', ['ui.router'])\n\n.config([\"$stateProvider\", \"$urlRouterProvider\", \"USER_ROLES\", function($stateProvider, $urlRouterProvider, USER_ROLES) {\n\n    // Default, if nothing matches go here.\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n\n    .state('root', {\n        url: '/',\n        views: {\n            '@' : { templateUrl: 'js/main.jade' },\n            'header@root' : { template: '<navbar></navbar>' },\n            'main@root' : { template: '<work-area-list></work-area-list>' },\n            'footer@root' : { template: '' },\n        },\n        data: {\n            authorizedRoles: [USER_ROLES.editor]\n        },\n    })\n\n    .state('root.workAreaSettings', {\n        url: 'settings',\n        views: {\n            'main@root' : { template: '<work-area-settings></work-area-settings>' },\n        },\n    })\n    .state('root.login', {\n        url: 'login',\n        views: {\n            'main@root' : { template: '<login username=\"currentUser\" is-authenticated=\"isAuthenticated\"></login>' },\n        },\n        data: {\n            authorizedRoles: []\n        },\n    })\n    .state('root.settings', {\n        url: 'user/settings',\n        views: {\n            'main@root' : { template: '<settings></settings>' },\n        },\n    })\n    .state('root.credits', {\n        url: 'credits',\n        views: {\n            'main@root' : { template: '<credits></credits>' },\n        },\n    })\n\n    .state('root.workArea', {\n        url: 'workarea/:workAreaId',\n        views: {\n            'main@root' : {\n                template: '<work-area></work-area>',\n            },\n        },\n        abstract: true,\n    })\n    .state('root.workArea.navigation', {\n        url: '/',\n        views: {\n            '@root.workArea' : {\n                template: '<node-area nodes=\"nodes\" work-area=\"workArea\"></node-area>',\n                controller: [\"$scope\", \"currentWorkArea\", \"currentNodes\", function($scope, currentWorkArea, currentNodes) {\n                    $scope.workArea = currentWorkArea;\n                    $scope.nodes = currentNodes;\n                }],\n                resolve: {\n                    currentWorkArea: [\"workAreaResolver\", \"$stateParams\", function(workAreaResolver, $stateParams) {\n                        return workAreaResolver($stateParams.workAreaId);\n                    }],\n                    currentNodes: [\"nodeResolver\", \"$stateParams\", function(nodeResolver, $stateParams) {\n                        return nodeResolver($stateParams.workAreaId);\n                    }],\n                },\n            },\n        },\n    })\n    .state('root.workArea.preview', {\n        url: '/preview',\n        views: {\n            '@root.workArea' : {\n                template: '<preview nodes=\"nodes\"></preview>',\n                controller: [\"$scope\", \"currentWorkArea\", \"currentNodes\", function($scope, currentWorkArea, currentNodes) {\n                    $scope.workArea = currentWorkArea;\n                    $scope.nodes = currentNodes;\n                }],\n                resolve: {\n                    currentWorkArea: [\"workAreaResolver\", \"$stateParams\", function(workAreaResolver, $stateParams) {\n                        return workAreaResolver($stateParams.workAreaId);\n                    }],\n                    currentNodes: [\"nodeResolver\", \"$stateParams\", function(nodeResolver, $stateParams) {\n                        return nodeResolver($stateParams.workAreaId);\n                    }],\n                },\n            },\n        },\n    })\n    .state('root.workArea.keywords', {\n        url: '/keywords',\n        views: {\n            '@root.workArea' : { template: '<keyword-list></keyword-list>' },\n        },\n    });\n\n}]);\n\n'use strict';\n\nangular.module('navotron.run', [\n    'navotron.api',\n    'navotron.constants',\n    'navotron.notification',\n])\n\n.run([\"$rootScope\", \"$state\", \"notification\", \"api\", \"AUTH_EVENTS\", function($rootScope, $state, notification, api, AUTH_EVENTS) {\n\n    // What happens after a user is logged in\n    $rootScope.$on(AUTH_EVENTS.loginSuccess, function(event, args) {\n        $state.go('root', {}, {reload: true});\n    });\n\n    // What happens after a user is logged out\n    $rootScope.$on(AUTH_EVENTS.logoutSuccess, function(event, args) {\n        $state.go('root.login', {}, {reload: true});\n    });\n\n    // What happens if session is timed out\n    $rootScope.$on(AUTH_EVENTS.sessionTimeout, function(event, args) {\n        api.users.logoutUser();\n        $state.go('root.login', {}, {reload: true});\n    });\n\n    // What happens if the user is not authrized to do a certain thing\n    $rootScope.$on(AUTH_EVENTS.notAuthorized, function(event, args) {\n        notification.info('You do not have privilages to access that view.');\n        $state.go('root.login', {}, {reload: true});\n    });\n\n    // What happens if the user is not authenticated\n    $rootScope.$on(AUTH_EVENTS.notAuthenticated, function(event, args) {\n        api.users.logoutUser();\n        $state.go('root.login');\n    });\n\n    // Check if user role can access the view accoring to its group\n    $rootScope.$on('$stateChangeStart', function(event, next) {\n        var authorizedRoles = next.data.authorizedRoles;\n\n        if (!api.users.isAuthorized(authorizedRoles)) {\n            event.preventDefault();\n\n            if (api.users.isAuthenticated()) {\n                // user is not allowed\n                $rootScope.$broadcast(AUTH_EVENTS.notAuthorized, {});\n            }\n            else {\n                // user is not logged in\n                $rootScope.$broadcast(AUTH_EVENTS.notAuthenticated, {});\n            }\n        }\n    });\n}]);\n\n'use strict';\n\nangular.module('navotron.api', [\n    'navotron.apiKeywords',\n    'navotron.apiNodes',\n    'navotron.apiUsers',\n    'navotron.apiWorkArea',\n    'navotron.apiCredits',\n])\n\n.factory('api', [\"workareas\", \"nodes\", \"users\", \"keywords\", \"credits\", function(workareas, nodes, users, keywords, credits) {\n    return {\n        workareas: workareas,\n        nodes: nodes,\n        users: users,\n        keywords: keywords,\n        credits: credits,\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.authService', ['navotron.authOauth2'])\n\n.factory('authService', [\"oauth2\", \"tokens\", function(oauth2, tokens) {\n\n    return {\n        logoutUser: function() {\n            tokens.destroy();\n            tokens.load();\n        },\n\n        loginUser: function(username, password) {\n            return oauth2.login(username, password);\n        },\n\n        // -> Boolean\n        // produce true if the user has session and is logged in\n        isAuthenticated: function() {\n            return !!tokens.accessToken;\n        },\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.authOauth2', ['LocalStorageModule'])\n\n.provider('oauth2', function() {\n    var clientId, clientSecret, url;\n\n    function params(obj) {\n        var str = [];\n        for(var p in obj) {\n            str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n        }\n        return str.join(\"&\");\n    }\n\n    this.setClientDetails = function(config) {\n        url = config.url;\n        clientId = config.clientId;\n        clientSecret = config.clientSecret;\n    };\n\n    this.$get = [\"$http\", \"tokens\", function($http, tokens) {\n\n        function oauthLogin(data) {\n            return $http({\n                method: 'POST',\n                url: url,\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                data: params(data),\n            })\n            .then(function(resp) {\n                tokens.create(resp.data.access_token,\n                              resp.data.refresh_token,\n                              resp.data.expires_in);\n                return resp;\n            });\n        }\n\n        return {\n            login: function(username, password) {\n                return oauthLogin({\n                    'grant_type': 'password',\n                    'client_id': clientId,\n                    'client_secret': clientSecret,\n                    'username': username,\n                    'password': password,\n                });\n            },\n            refresh: function() {\n                var refreshToken = tokens.refreshToken;\n                tokens.destroy();\n\n                return oauthLogin({\n                    'grant_type': 'refresh_token',\n                    'client_id': clientId,\n                    'client_secret': clientSecret,\n                    'refresh_token': refreshToken,\n                });\n            },\n            refreshRequired: function() {\n                if ( !tokens.accessToken ) {\n                    return false;\n                }\n\n                return tokens.expiryDate <= Math.floor(Date.now() / 1000);\n            }\n        };\n    }];\n})\n\n.service('tokens', [\"localStorageService\", function(localStorageService) {\n    this.load = function() {\n        this.accessToken = localStorageService.get('accessToken');\n        this.refreshToken = localStorageService.get('refreshToken');\n        this.expiryDate = localStorageService.get('expiryDate');\n    };\n\n    this.create = function(access_token, refresh_token, expires_in) {\n        var expiryDate = Math.floor(Date.now() / 1000) + expires_in;\n        localStorageService.set('accessToken', access_token);\n        localStorageService.set('refreshToken', refresh_token);\n        localStorageService.set('expiryDate', expiryDate);\n        this.load();\n    };\n\n    this.destroy = function() {\n        localStorageService.remove('accessToken');\n        localStorageService.remove('refreshToken');\n        localStorageService.remove('expiryDate');\n        this.load();\n    };\n\n    this.load();\n}])\n\n.factory('tokenInterceptor', [\"$injector\", \"tokens\", function($injector, tokens) {\n    return {\n        request: function(config) {\n\n            if (tokens.accessToken !== null) {\n                angular.extend(config.headers, {\n                    'Authorization': 'Bearer ' + tokens.accessToken\n                });\n            }\n\n            if (config.url !== '/oauth2/token/') {\n                var oauth2 = $injector.get('oauth2');\n                if (oauth2.refreshRequired()) {\n                    return oauth2.refresh().then(function() {\n                        return config;\n                    });\n                }\n            }\n\n            return config;\n        }\n    };\n}])\n\n.config([\"$httpProvider\", function($httpProvider) {\n    $httpProvider.interceptors.push('tokenInterceptor');\n}]);\n\n'use strict';\n\nangular.module('navotron.apiCredits', [])\n\n.factory('credits', [\"$http\", function($http) {\n    return {\n        get: function(workareaId) {\n            return $http.get(Urls.credit_list())\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        postCreditOrder: function(units) {\n            return $http.post(Urls.creditorder_list(), {'units': units})\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        deleteCreditOrder: function(id) {\n            return $http.delete(Urls.creditorder_detail(id));\n        },\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.apiKeywords', ['navotron.credits', 'navotron.pagination'])\n\n.factory('keywords', [\"$http\", \"buildQueryParams\", \"creditFactory\", \"stPagination\", function($http, buildQueryParams, creditFactory, stPagination) {\n\n    return {\n\n        // -> (listof Keyword) String\n        // produce a list of all the keywords\n        get: function(workareaId, params) {\n            return $http.get(Urls.workarea_keywords_list(workareaId) + buildQueryParams(params))\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        getPaginated: function(workareaId) {\n            return stPagination(Urls.workarea_keywords_list(workareaId));\n        },\n\n        // String Integer Keyword -> Keyword\n        // patch a singel keyword\n        patch: function(workareaId, keywordId, params) {\n            return $http.patch(Urls.workarea_keywords_detail(workareaId, keywordId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String Keyword -> Keyword\n        // create a singel keyword\n        post: function(workareaId, params) {\n            return $http.post(Urls.workarea_keywords_list(workareaId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String (listof Keyword) -> (listof Keyword)\n        // create multiple keywords\n        postBulk: function(workareaId, lok) {\n            return $http.post(Urls.workarea_keywords_bulk_create(workareaId), lok)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String Integer -> Keyword\n        // remove a singel keyword\n        delete: function(workareaId, keywordId) {\n            return $http.delete(Urls.workarea_keywords_detail(workareaId, keywordId));\n        },\n\n        // String (listof Integer) -> Keyword\n        // remove a singel keyword\n        deleteBulk: function(workareaId, keywordIds) {\n            return $http.delete(Urls.workarea_keywords_bulk(workareaId),\n                                {\n                                    data: angular.toJson(keywordIds),\n                                    headers: {'Content-Type': 'application/json' },\n                                });\n        },\n\n        // String -> Promise\n        // updating the keywords volumes\n        updateVolume: function(workareaId) {\n            return $http.post(Urls.workarea_update_keywords(workareaId))\n            .then(function(response) {\n                return creditFactory.updateUnits().then(function() {\n                    return response;\n                });\n            });\n        },\n    };\n}])\n\n.factory('buildQueryParams', function() {\n\n    function forEachSorted(obj, iterator, context) {\n        var keys = sortedKeys(obj);\n        for (var i = 0; i < keys.length; i++) {\n            iterator.call(context, obj[keys[i]], keys[i]);\n        }\n        return keys;\n    }\n\n    function sortedKeys(obj) {\n        var keys = [];\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                keys.push(key);\n            }\n        }\n        return keys.sort();\n    }\n\n    function buildQueryParams(params) {\n        var parts = [];\n        forEachSorted(params, function(value, key) {\n            if (value === null || value === undefined) {\n                return;\n            }\n            if (angular.isObject(value)) {\n                value = angular.toJson(value);\n            }\n            parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n        });\n        return '?' + parts.join('&');\n    }\n\n    // Object -> String\n    // produce a URL from a base URL and a object with parameters\n    // Assume: The Object can not be empty.\n    return buildQueryParams;\n\n});\n\n'use strict';\n\nangular.module('navotron.apiNodes', ['navotron.cache'])\n\n.factory('nodes', [\"$http\", \"cache\", function($http, cache) {\n    return {\n\n        // String -> (listof Node)\n        // produce a list of nested nodes from a workarea\n        getNested: function(workareaId) {\n            return $http.get(Urls.workarea_nodes_nested_list(workareaId), {cache: cache.get()})\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // (listof Node) -> (listof Node)\n        // save a list of nested node to the database\n        postNested: function(workareaId, nodes) {\n            cache.destroy();\n            return $http.post(Urls.workarea_nodes_nested_create(workareaId), nodes)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String Integer Node -> Node\n        // patch a singel node\n        patch: function(workareaId, nodeId, params) {\n            cache.destroy();\n            return $http.patch(Urls.workarea_nodes_detail(workareaId, nodeId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // (listof Node) -> (listof Node)\n        // produce a list of nested nodes from a workarea\n        patchBulk: function(workareaId, params) {\n            cache.destroy();\n            return $http.patch(Urls.workarea_nodes_bulk_update(workareaId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String Node -> Node\n        // create a singel node\n        post: function(workareaId, node) {\n            cache.destroy();\n            return $http.post(Urls.workarea_nodes_list(workareaId), node)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String String -> Node\n        // remove a singel node\n        delete: function(workareaId, nodeId) {\n            cache.destroy();\n            return $http.delete(Urls.workarea_nodes_detail(workareaId, nodeId));\n        },\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.apiUsers', [\n    'navotron.authService',\n    'navotron.constants',\n    'navotron.session',\n])\n\n.factory('users', [\"$http\", \"$rootScope\", \"authService\", \"session\", \"AUTH_EVENTS\", function($http, $rootScope, authService, session, AUTH_EVENTS) {\n    return {\n        // String -> User\n        // produce a user object with groups and username\n        getCurrentUser: function() {\n            return $http.get(Urls.user_current_user())\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        loginUser: function(username, password) {\n            var self = this;\n\n            authService.loginUser(username, password).then(function(result) {\n                self.getCurrentUser().then(function(user) {\n                    session.set('user', user);\n                    $rootScope.$broadcast(AUTH_EVENTS.loginSuccess);\n                });\n            });\n        },\n\n        logoutUser: function() {\n            authService.logoutUser();\n            session.destroy();\n            session.load();\n            $rootScope.$broadcast(AUTH_EVENTS.logoutSuccess);\n        },\n\n        getUsername: function() {\n            if ( session.user !== null ) {\n                return session.user.username;\n            }\n\n            return undefined;\n        },\n\n        getUserGroup: function() {\n            if ( session.user !== null ) {\n                return session.user.groups[0];\n            }\n\n            return undefined;\n        },\n\n        isAuthorized: function(authorizedRoles) {\n            if (authorizedRoles.length < 1) {\n                return true;\n            }\n\n            return (authorizedRoles.indexOf(this.getUserGroup()) !== -1);\n        },\n\n        isAuthenticated: authService.isAuthenticated,\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.apiWorkArea', ['navotron.cache'])\n\n.factory('workareas', [\"$http\", \"cache\", function($http, cache) {\n\n    return {\n\n        // String String (listof Node) (listof Keyword) -> WorkArea\n        // save a new workarea to the database, or 403 forbidden request\n        post: function(params) {\n            cache.destroy();\n            return $http.post(Urls.workarea_list(), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String Workarea -> Workarea\n        // patch a workarea\n        patch: function(workareaId, params) {\n            cache.destroy();\n            return $http.patch(Urls.workarea_detail(workareaId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String (listof Node) -> (listof Node)\n        // update a existing workarea\n        put: function(workareaId, params) {\n            cache.destroy();\n            return $http.put(Urls.workarea_detail(workareaId), params)\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String -> String\n        // produce a 204 if successfully deleted the workarea\n        delete: function(workareaId) {\n            cache.destroy();\n            return $http.delete(Urls.workarea_detail(workareaId));\n        },\n\n        // -> (listof Workarea)\n        // produce a list of all the available Workareas\n        get: function() {\n            return $http.get(Urls.workarea_list(), {cache: cache.get()})\n            .then(function(result) {\n                return result.data;\n            });\n        },\n\n        // String -> Workarea\n        // produce a Workarea from a given workareaId\n        getOne: function(workareaId) {\n            return $http.get(Urls.workarea_detail(workareaId), {cache: cache.get()})\n            .then(function(result) {\n                return result.data;\n            });\n        },\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.credits', ['navotron.apiCredits'])\n\n.service('creditFactory', [\"credits\", \"$http\", \"$timeout\", function(credits, $http, $timeout) {\n    var self = this;\n\n    self.units = 0;\n    self.lastOrder = undefined;\n    var timeout = null;\n\n    self.updateUnits = function() {\n        return credits.get()\n        .then(function(data) {\n            self.units = data.units;\n            return self.units;\n        });\n    };\n\n    self.orderCredits = function(units) {\n        self.errorMessage = '';\n\n        return credits.postCreditOrder(units)\n        .then(function(data) {\n            self.lastOrder = data;\n            $timeout.cancel(timeout);\n            timeout = $timeout(function() {\n                self.lastOrder = undefined;\n            }, 60000);\n        })\n        .catch(function(response) {\n            self.lastOrder = undefined;\n            self.errorMessage = response.data.detail;\n        });\n    };\n\n    self.undoOrder = function() {\n        if (self.lastOrder !== undefined) {\n            return credits.deleteCreditOrder(self.lastOrder.id)\n            .then(function(response) {\n                self.lastOrder = undefined;\n            });\n        }\n    };\n\n    self.estimateCost = function(seedCount) {\n        return Math.ceil(seedCount / 100) * 10;\n    };\n\n    self.searchDisabled = function(seedCount) {\n        return self.units < self.estimateCost(seedCount);\n    };\n}])\n\n.controller('creditController', [\"creditFactory\", function(creditFactory) {\n    this.creditFactory = creditFactory;\n    this.creditFactory.updateUnits();\n}])\n\n.directive('credits', function() {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/credits/credits.jade',\n    };\n})\n\n.directive('creditPackage', function() {\n    return {\n        restrict: 'E',\n        scope: {\n            title: '@',\n            price: '@',\n            units: '@',\n        },\n        templateUrl: 'js/components/credits/creditPackage.jade',\n        controller: [\"$scope\", \"creditFactory\", function($scope, creditFactory) {\n            $scope.buy = function() {\n                creditFactory.orderCredits(parseInt($scope.units, 10));\n            };\n        }],\n    };\n});\n\n'use strict';\n\nangular.module('navotron.login', ['navotron.api'])\n\n.directive(\"login\", [\"api\", function(api) {\n\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/login/loginView.jade',\n        scope: {},\n        controller: [\"$scope\", function($scope) {\n            $scope.users = api.users;\n        }]\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.controlBox', [\n    'navotron.api',\n    'navotron.popupBox',\n])\n\n.directive(\"controlBox\", [\"api\", \"workAreaHelper\", function(api, workAreaHelper) {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/navbar/controlBox/controlBoxView.jade',\n        repalce: true,\n        controller: [\"$scope\", function($scope) {\n            $scope.users = api.users;\n            $scope.getActiveWorkArea = workAreaHelper.getActiveWorkarea;\n\n            $scope.$on('popupBox.open', function(event, args) {\n                api.workareas.get().then(function(workareas) {\n                    $scope.workareas = workareas;\n                });\n            });\n        }]\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.navbar', [\n    'navotron.api',\n    'navotron.controlBox',\n    'navotron.credits'\n])\n\n.controller(\"navbarController\", [\"$state\", \"api\", \"workAreaHelper\", \"creditFactory\", function($state, api, workAreaHelper, creditFactory) {\n    this.users = api.users;\n    this.includes = $state.includes;\n    this.workAreaHelper = workAreaHelper;\n    this.creditFactory = creditFactory;\n\n    this.creditFactory.updateUnits();\n}])\n\n.directive(\"navbar\", function() {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/navbar/navbar.jade',\n    };\n});\n\n'use strict';\n\nangular.module('navotron.popupBox', [])\n\n.directive('popupBox', [\"$document\", function($document) {\n    return {\n        restrict: 'EA',\n        scope: {},\n        link: function($scope, $element, $attributes) {\n            var onDocumentClick = function(event) {\n                var isChild = $($element).find(event.target).length > 0;\n                var isSelf = ($element[0] === event.target);\n                var isInside = isChild || isSelf;\n\n                if(!isInside) {\n                    $scope.$apply(function() {\n                        $scope.close();\n                    });\n                }\n            };\n\n            $document.on(\"click\", onDocumentClick);\n\n            $element.on('$destroy', function() {\n                $document.off(\"click\", onDocumentClick);\n            });\n        },\n        controller: [\"$scope\", function($scope) {\n            $scope.show = false;\n\n            this.open = function() {\n                $scope.show = !$scope.show;\n                $scope.$emit('popupBox.open');\n            };\n\n            $scope.close = function() {\n                $scope.show = false;\n            };\n\n            this.isOpen = function() {\n                return $scope.show;\n            };\n\n            $scope.$on('$stateChangeStart', function(next, current) {\n                $scope.close();\n            });\n        }]\n    };\n}])\n\n.directive('pbButton', function() {\n    return {\n        restrict: 'E',\n        scope: {},\n        transclude: true,\n        templateUrl: 'js/components/navbar/popupBox/pbButton.jade',\n        require: '^popupBox',\n        link: function(scope, element, attrs, popupBoxCtrl) {\n            scope.popupBox = popupBoxCtrl;\n        },\n    };\n})\n\n.directive('pbPanel', function() {\n    return {\n        restrict: 'E',\n        scope: {},\n        transclude: true,\n        templateUrl: 'js/components/navbar/popupBox/pbPanel.jade',\n        require: '^popupBox',\n        link: function(scope, element, attrs, popupBoxCtrl) {\n            scope.popupBox = popupBoxCtrl;\n        },\n    };\n});\n\n'use strict';\n\nangular.module('navotron.broadcastInterceptor', ['navotron.constants'])\n\n.factory('broadcastInterceptor', [\"$rootScope\", \"$q\", \"AUTH_EVENTS\", function($rootScope, $q, AUTH_EVENTS) {\n    return {\n        responseError: function(response) {\n            $rootScope.$broadcast({\n                401: AUTH_EVENTS.notAuthenticated,\n                403: AUTH_EVENTS.notAuthorized,\n                419: AUTH_EVENTS.sessionTimeout,\n                440: AUTH_EVENTS.sessionTimeout\n            }[response.status], response);\n\n            return $q.reject(response);\n        }\n    };\n}])\n\n.config([\"$httpProvider\", function($httpProvider) {\n    $httpProvider.interceptors.push('broadcastInterceptor');\n}]);\n\n'use strict';\n\nangular.module('navotron.cache', [])\n\n.service('cache', [\"$cacheFactory\", \"session\", function($cacheFactory, session) {\n\n    this.get = function() {\n        if ( $cacheFactory.get(session.user.id) === undefined ) {\n            return $cacheFactory(session.user.id);\n        }\n        return $cacheFactory.get(session.user.id);\n    };\n\n    this.destroy = function() {\n        $cacheFactory.get(session.user.id).removeAll();\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.directives', [])\n\n.directive('toSelect', [\"$timeout\", function($timeout) {\n    return function(scope, elem, attrs) {\n        scope.$watch(attrs.toSelect, function(newval) {\n            if (newval) {\n                $timeout(function() {\n                    elem[0].select();\n                }, 0, false);\n            }\n        });\n    };\n}])\n\n.directive('onBlur', [\"$parse\", function($parse) {\n    return function(scope, element, attr) {\n        var fn = $parse(attr.onBlur);\n        element.bind('blur', function(event) {\n            scope.$apply(function() {\n                fn(scope, {$event: event});\n            });\n        });\n    };\n}])\n\n.directive('onEnterPress', function() {\n    return function(scope, element, attrs) {\n        element.bind(\"keydown keypress\", function(event) {\n            if(event.which === 13) {\n                scope.$apply(function() {\n                    scope.$eval(attrs.onEnterPress, {'event': event});\n                });\n                event.preventDefault();\n            }\n        });\n    };\n})\n\n.directive('onEscPress', function() {\n    return function(scope, element, attrs) {\n        element.bind(\"keydown keypress\", function(event) {\n            if(event.which === 27) {\n                scope.$apply(function() {\n                    scope.$eval(attrs.onEscPress, {'event': event});\n                });\n\n                event.preventDefault();\n            }\n        });\n    };\n});\n\n'use strict';\n\nangular.module('navotron.modifyField', [])\n\n.directive('modifyField', [\"$timeout\", \"$animate\", \"modifyFieldFactory\", function($timeout, $animate, modifyFieldFactory) {\n    return {\n        restrict: 'E',\n        transclude: false,\n        scope: {\n            field: '=',\n            type: '=',\n            onSave: '&',\n            onBlur: '&',\n        },\n        templateUrl: 'js/components/utils/modifyField/modifyFieldView.jade',\n        link: function($scope, elem, attr) {\n            $animate.enabled(false, elem);\n        },\n        controller: [\"$scope\", function($scope) {\n            $scope.editField = false;\n\n            $scope.edit = function() {\n                $scope.newValue = $scope.field;\n                $scope.editField = true;\n            };\n\n            $scope.save = function() {\n                if (modifyFieldFactory.isNewValue($scope.newValue, $scope.field)) {\n                    var promise = modifyFieldFactory.save($scope.newValue, $scope.field, $scope.onSave);\n\n                    promise.then(function(result) {\n                        $scope.field = $scope.newValue;\n                    });\n                }\n\n                $scope.editField = false;\n            };\n        }]\n    };\n}])\n\n.service('modifyFieldFactory', function() {\n    var self = this;\n\n    // X Y FN -> FN\n    // produce the result of the function FN\n    self.save = function(newValue, oldValue, fn) {\n        return fn({newVal: newValue, oldVal: oldValue});\n    };\n\n    // X Y -> Boolean\n    // if the value or object is new then return true\n    self.isNewValue = function(newValue, oldValue) {\n        if (angular.equals(newValue, oldValue)) {\n            return false;\n        }\n        else if (newValue === oldValue) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n\n});\n\n'use strict';\n\nangular.module('navotron.notification', [])\n\n.directive('ntNotification', [\"notification\", function(notification) {\n    return {\n        restrict: 'E',\n        scope: {\n        },\n        templateUrl: 'js/components/utils/notification/notification.jade',\n        link: function(scope, element, attrs) {\n            scope.messages = notification.messages;\n        }\n    };\n}])\n\n.provider('notification', function() {\n    var messages = [];\n    var timeout = 5000;\n\n    this.setTimeout = function(time) {\n        timeout = time;\n    };\n\n    this.$get = [\"$timeout\", function($timeout) {\n        function addMessage(msg, alertClass) {\n            messages.push({\n                message: msg,\n                alertClass: alertClass,\n            });\n\n            $timeout(function() {\n                messages.shift();\n            }, timeout);\n        }\n        return {\n            info: function(msg) {\n                addMessage(msg, 'alert-info');\n            },\n            success: function(msg) {\n                addMessage(msg, 'alert-success');\n            },\n            error: function(msg, reason) {\n                addMessage(msg +\n                           ' Status: ' + reason.status +\n                           ' ErrorMsg: ' + reason.statusText, 'alert-danger');\n            },\n            messages: messages,\n        };\n    }];\n});\n\n/// <reference path=\"./typings/angularjs/angular.d.ts\" />\nvar Pagination = (function () {\n    function Pagination($http, url) {\n        var _this = this;\n        this.refresh = function () {\n            return _this._get(_this.params);\n        };\n        this.setParam = function (key, value) {\n            _this.params[key] = value;\n        };\n        this.unsetParam = function (key) {\n            delete _this.params[key];\n        };\n        this._get = function (params) {\n            _this.loading = true;\n            return _this.$http({\n                method: 'GET',\n                url: _this.baseUrl,\n                params: params,\n            }).then(_this._success);\n        };\n        this._success = function (response) {\n            _this.loading = false;\n            _this.response = response;\n            _this.results = _this.response.data.results;\n            return response;\n        };\n        this.$http = $http;\n        this.response = null;\n        this.params = {};\n        this.baseUrl = url;\n        this.loading = false;\n        this.results = [];\n    }\n    return Pagination;\n})();\n/// <reference path=\"./typings/angularjs/angular.d.ts\" />\n/// <reference path=\"./Pagination.ts\" />\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\n// Compile using: tsc --target ES5 stPagination.ts --out ts_stPagination.js\nvar stPagination = (function (_super) {\n    __extends(stPagination, _super);\n    function stPagination($http, url) {\n        var _this = this;\n        _super.call(this, $http, url);\n        // Simple table methods\n        this.callServer = function (tableState) {\n            _this.tableState = tableState;\n            _this.setOffsetParams();\n            _this.setOrderingParams();\n            _this.setSearchParams();\n            _this.refresh().then(function () {\n                _this.tableState.pagination.numberOfPages = _this.numberOfPages;\n            });\n        };\n        this.setOffsetParams = function () {\n            _this.setParam('limit', _this.tableState.pagination.number || 10);\n            _this.setParam('offset', _this.tableState.pagination.start || 0);\n        };\n        this.setOrderingParams = function () {\n            var sort = _this.tableState.sort;\n            if (sort.predicate !== undefined) {\n                var prefix = (sort.reverse ? '-' : '');\n                _this.setParam('ordering', prefix + sort.predicate);\n            }\n            else {\n                _this.unsetParam('ordering');\n            }\n        };\n        this.setSearchParams = function () {\n            var predicateObject = _this.tableState.search.predicateObject;\n            if (predicateObject !== undefined) {\n                _this.setParam('search', predicateObject.search);\n            }\n            else {\n                _this.unsetParam('search');\n            }\n        };\n        this.setParam('limit', 10);\n    }\n    Object.defineProperty(stPagination.prototype, \"numberOfPages\", {\n        get: function () {\n            if (this.response === null) {\n                return 0;\n            }\n            if (this.tableState === null) {\n                return 0;\n            }\n            return Math.ceil(this.response.data.count / this.tableState.pagination.number);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return stPagination;\n})(Pagination);\nangular.module('navotron.pagination', [])\n    .factory('stPagination', [\"$http\", function ($http) {\n    return function (url) {\n        return new stPagination($http, url);\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.session', ['LocalStorageModule'])\n\n.service('session', [\"localStorageService\", function(localStorageService) {\n    this.load = function() {\n        this.user = localStorageService.get('user');\n        this.activeNode = localStorageService.get('activeNode');\n        this.activeWorkArea = localStorageService.get('activeWorkArea');\n    };\n\n    this.set = function(name, value) {\n        localStorageService.set(name, value);\n        this.load();\n    };\n\n    this.destroy = function() {\n        localStorageService.remove('user');\n        this.activeNode = localStorageService.get('activeNode');\n        localStorageService.remove('activeWorkArea');\n    };\n\n    this.hasSetProperty = function(key) {\n        if ( localStorageService.get(key) === null ) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n\n    this.load();\n}]);\n\n'use strict';\n\nangular.module('navotron.controlPanel', ['navotron.workArea'])\n\n.directive('controlPanel', [\"workAreaEvent\", \"session\", \"workAreaHelper\", function(workAreaEvent, session, workAreaHelper) {\n    return {\n        restrict: 'E',\n        scope: {},\n        link: function($scope) {\n            $scope.editing = workAreaEvent.editing;\n            $scope.workArea = session.activeWorkArea;\n\n            $scope.patchWorkArea = function(workArea, newVal) {\n                return workAreaHelper.patchWorkarea(workArea.hash_id, newVal)\n\n                .then(function(workArea) {\n                    workAreaHelper.setActiveWorkarea(workArea);\n                });\n            };\n        },\n        templateUrl: 'js/components/workArea/controlPanel/controlPanelView.jade',\n\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.keywordList', [\n    'navotron.api',\n    'smart-table'\n])\n\n.config([\"stConfig\", function(stConfig) {\n    stConfig.pagination.template = 'js/components/workArea/keyword/keywordList/pagination.jade';\n    stConfig.pagination.itemsByPage = 10;\n    stConfig.pagination.displayedPages = 0;\n}])\n\n.controller('keywordListController', [\"keywordListFactory\", function(keywordListFactory) {\n    this.keywordListFactory = keywordListFactory;\n    this.keywordListFactory.init();\n}])\n\n.directive('keywordList', function() {\n    return {\n        restrict: 'E',\n        scope: {},\n        templateUrl: 'js/components/workArea/keyword/keywordList/keywordListView.jade',\n    };\n})\n\n.service('keywordListFactory', [\"$modal\", \"$stateParams\", \"$state\", \"api\", function($modal, $stateParams, $state, api) {\n\n    var self = this;\n    self.keywords = {\n        results: []\n    };\n\n    self.init = function() {\n        self.keywords = api.keywords.getPaginated($stateParams.workAreaId);\n    };\n\n    self.removeKeywords = function() {\n        var selectedKeywordIds = [];\n\n        self.keywords.results.forEach(function(row) {\n            if ( row.isSelected ) {\n                this.push(row.id);\n            }\n        }, selectedKeywordIds);\n\n        api.keywords.deleteBulk($stateParams.workAreaId, selectedKeywordIds)\n\n        .finally(function(error) {\n            $state.go('root.workArea.keywords', {}, {\n                reload: true\n            });\n        });\n    };\n\n    self.addKeywords = function() {\n        self.modalInstance = $modal.open({\n            templateUrl: 'js/components/workArea/popups/addKeywords/addKeywordsView.jade',\n            controller: 'addKeywords',\n            resolve: {\n                workAreaId: function() {\n                    return $stateParams.workAreaId;\n                },\n                nodeId: function() {\n                    return [];\n                }\n            }\n        });\n\n        self.modalInstance.result.then(function(lok) {\n            $state.go('root.workArea.keywords', {}, {\n                reload: true\n            });\n        });\n    };\n}])\n\n.directive('stSelect', function() {\n    return {\n        require: '^stTable',\n        template: '<input type=\"checkbox\" ng-checked=\"row.isSelected\" />',\n        scope: {\n            row: '='\n        },\n        link: function(scope, element, attr, ctrl) {\n\n            element.bind('change', function(evt) {\n                scope.$apply(function() {\n                    if (!scope.row.isSelected) {\n                        scope.row.isSelected = true;\n                    }\n                    else {\n                        scope.row.isSelected = false;\n                    }\n                });\n            });\n\n            scope.$watch('row.isSelected', function(newValue, oldValue) {\n                if (newValue === true) {\n                    element.parent().parent().addClass('st-selected');\n                } else {\n                    element.parent().parent().removeClass('st-selected');\n                }\n            });\n        }\n    };\n})\n\n.directive('stSelectAll', function() {\n    return {\n        restrict: 'E',\n        template: '<input type=\"checkbox\" ng-model=\"isAllSelected\" />',\n        scope: {\n            all: '='\n        },\n        link: function(scope, element, attr) {\n\n            scope.$watch('isAllSelected', function() {\n                scope.all.forEach(function(val) {\n                    val.isSelected = scope.isAllSelected;\n                });\n            });\n\n            scope.$watch('all', function(newVal, oldVal) {\n                if (oldVal) {\n                    oldVal.forEach(function(val) {\n                        val.isSelected = false;\n                    });\n                }\n\n                scope.isAllSelected = false;\n            });\n        }\n    };\n});\n\n\n'use strict';\n\nangular.module('navotron.keyword', ['navotron.api'])\n\n.service('keywordHelper', [\"workAreaEvent\", \"api\", \"notification\", function(workAreaEvent, api, notification) {\n\n    // String Integer KeywordParams -> Promise\n    // produce true if successfull\n    this.patchKeyword = function(workAreaId, keywordId, params) {\n        return workAreaEvent.wrap(api.keywords.patch(workAreaId, keywordId, params))\n\n        .then(function(keyword) {\n            return true;\n        })\n\n        .catch(function(reason) {\n            notification.error('Could not update the keyword.', reason);\n            return false;\n        });\n    };\n\n    // Object -> Keyword\n    // produce a keyword\n    this.newKeyword = function(keyword) {\n        return {\n            keyword: keyword.keyword,\n            adult: typeof keyword.adult !== 'undefined' ? keyword.adult : 'UNKNOWN',\n            nodes: typeof keyword.nodes !== 'undefined' ? keyword.nodes : [],\n            timestamp: typeof keyword.timestamp !== 'undefined' ? keyword.timestamp : null,\n            type: typeof keyword.type !== 'undefined' ? keyword.type : \"UNKNOWN\",\n            volume: typeof keyword.volume !== 'undefined' ? keyword.volume : 0,\n            workarea: typeof keyword.workarea !== 'undefined' ? keyword.workarea : \"UNKNOWN\",\n        };\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.nodeArea', [\n    'navotron.nodeTree',\n    'navotron.nodeParent',\n])\n\n.controller('nodeAreaController', [\"$scope\", \"nodeAreaFactory\", function($scope, nodeAreaFactory) {\n    this.nodeAreaFactory = nodeAreaFactory;\n}])\n\n.directive('nodeArea', [\"nodeAreaFactory\", \"nodeHelper\", \"api\", \"session\", function(nodeAreaFactory, nodeHelper, api, session) {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/workArea/node/nodeArea/nodeArea.jade',\n        scope: {\n            nodes: '=',\n            workArea: '=',\n        },\n        controller: [\"$scope\", function($scope) {\n            this.updateIndexes = function() {\n                nodeAreaFactory.updateIndexes($scope.workArea.hash_id, $scope.subNodes);\n            };\n        }],\n        link: function($scope) {\n            $scope.nodeParent = $scope.nodes.slice(0, 1)[0];\n            $scope.subNodes = nodeAreaFactory.splitNodes($scope.nodes.slice(1, $scope.nodes.length));\n\n            $scope.$watch('subNodes', function(newValue, oldValue) {\n                $scope.subNodes = nodeAreaFactory.addEmptyNodeLists(newValue);\n            }, true);\n        }\n    };\n}])\n\n.service('nodeAreaFactory', [\"api\", \"workAreaEvent\", \"nodeHelper\", function(api, workAreaEvent, nodeHelper) {\n\n    // (listof Nodes) -> (listof (listof Nodes))\n    // split up the diffrent nodes into sub trees\n    this.splitNodes = function(nodes) {\n        var result = [];\n        var subNodes = [];\n\n        angular.forEach(nodes, function(item) {\n            subNodes[item.id] = [item];\n            this.push(subNodes[item.id]);\n        }, result);\n\n        return result;\n    };\n\n    // (listof (listof Nodes)) -> (listof Nodes)\n    // produce a flatten list of nodes\n    this.collapseNodes = function(subNodes) {\n        var result = [];\n\n        angular.forEach(subNodes, function(item) {\n            result.push.apply(result, item);\n        });\n\n        return result;\n    };\n\n    // (listof (listof Nodes)) -> (listof (listof Nodes))\n    // produce a node list with empty nodelists\n    this.addEmptyNodeLists = function(nodes) {\n        var subNodes = [];\n\n        angular.forEach(nodes, function(item) {\n            if ( item.length > 0 ) {\n                this.push([]);\n                this.push(item);\n            }\n        }, subNodes);\n\n        subNodes.push([]);\n\n        return subNodes;\n    };\n\n    // String (listof (listof Nodes)) (listof Nodes) Integer ->\n    // add a new node to the top of the nodetree\n    this.addNewTopNode = function(workAreaId, subNodes, index) {\n        var self = this;\n        var newIndex = typeof index !== 'undefined' ? index + 1 : subNodes.length;\n\n        // Set parameters\n        var node = {\n            'name': 'New page',\n            'parentNode': null,\n            'lock': true,\n            'index': newIndex,\n            'workarea': workAreaId,\n        };\n\n        // Create new node under parent\n        var newNode = nodeHelper.newNode(node);\n\n        // Add node to database\n        workAreaEvent.wrap(api.nodes.post(workAreaId, newNode))\n\n        .then(function(savedNode) {\n            subNodes.splice(newIndex, 0, [savedNode]);\n            self.updateIndexes(workAreaId, subNodes);\n        });\n    };\n\n    this.updateIndexes = function(workAreaId, subNodes) {\n        var i = 1;\n        var nodes = [];\n\n        angular.forEach(this.collapseNodes(subNodes), function(node) {\n            node.index = i;\n            i += 1;\n            this.push(node);\n        }, nodes);\n\n        var newNodes = nodeHelper.getMovingNodes(nodes, null);\n\n        workAreaEvent.wrap(api.nodes.patchBulk(workAreaId, newNodes));\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.nodeTree', [\n    'navotron.api',\n    'navotron.modifyField',\n    'navotron.nodeHelper',\n    'navotron.workArea',\n    'ui.tree',\n])\n\n.controller('nodeTreeController', [\"nodeHelper\", \"nodeTreeFactory\", \"nodeTreeEvent\", function(nodeHelper, nodeTreeFactory, nodeTreeEvent) {\n    this.nodeHelper = nodeHelper;\n    this.nodeTreeFactory = nodeTreeFactory;\n    this.nodeTreeEvent = nodeTreeEvent;\n}])\n\n.directive('nodeTree', [\"nodeHelper\", \"nodeTreeEvent\", function(nodeHelper, nodeTreeEvent) {\n    return {\n        restrict: 'E',\n        transclude: true,\n        require: ['^nodeArea', '^workArea'],\n        templateUrl: 'js/components/workArea/node/nodeArea/nodeTree/nodeTreeView.jade',\n        scope: {\n            nodes: '=',\n            workArea: '=',\n        },\n        link: function($scope, element, attr, controllers) {\n            var nodeAreaCtrl = controllers[0];\n            var workAreaCtrl = controllers[1];\n\n            // Node -> Boolean\n            // produce true if the node is active\n            $scope.setActiveNode = function(node) {\n                nodeHelper.setActiveNode(node);\n                workAreaCtrl.updateActiveNode();\n            };\n\n            $scope.patchNode = function(workArea, node, newVal) {\n                return nodeHelper.patchNode(workArea.hash_id, node.id, newVal)\n\n                .then(function(node) {\n                    $scope.setActiveNode(node);\n                });\n            };\n\n            // Node -> Boolean\n            // hide a node in the nodetree and then remove it from the database\n            $scope.deleteNode = function(nodeScope, node) {\n                $scope.setActiveNode(false);\n                nodeHelper.deleteNodeFromDatabase(nodeScope, nodeHelper.hideNode(node));\n            };\n\n            $scope.treeOptions = {\n\n                // Event ->\n                // on move event, lock node then save to database\n                dropped: function(event) {\n\n                    // If parentnode has changed or position index then update position\n                    if ( nodeHelper.changedPosition(event.source, event.dest) ) {\n\n                        // Set constants\n                        var sourceNode = event.source.nodeScope.node;\n                        var destNodes = event.dest.nodesScope.$modelValue;\n                        var destParentNode = nodeHelper.getParentNode(event.dest.nodesScope.node);\n\n                        if ( destParentNode === null ) {\n                            nodeAreaCtrl.updateIndexes();\n                        }\n                        else {\n                            // Update the destination nodes indexes\n                            nodeHelper.updateIndexes($scope.workArea.hash_id,\n                                                     nodeHelper.getMovingNodes(destNodes, destParentNode),\n                                                     sourceNode,\n                                                     destNodes);\n                        }\n                    }\n                },\n\n                accept: function(sourceNodeScope, destNodesScope, destIndex) {\n                    return (destNodesScope.depth() > 0 || destNodesScope.nodes.length <= 0 );\n                },\n\n                dragStart: function() {\n                    nodeTreeEvent.start();\n                },\n\n                dragStop: function() {\n                    nodeTreeEvent.stop();\n                },\n\n                dragMove: function(e) {\n                    var placeholder = angular.element(e.dest.nodesScope.$element[0].getElementsByClassName('angular-ui-tree-placeholder'));\n                    placeholder.html('Move page(s) here.');\n                },\n            };\n\n        },\n\n    };\n\n}])\n\n.service('nodeTreeFactory', [\"nodeTreeEvent\", \"nodeHelper\", \"workAreaEvent\", \"api\", \"notification\", function(nodeTreeEvent, nodeHelper, workAreaEvent, api, notification) {\n\n    // Node -> Boolean\n    // produce true if the node has children\n    this.haveChildren = function(node) {\n        return (node.children.length > 0);\n    };\n\n    // Boolean Node ->\n    // set if show editing buttons for node or not\n    this.showEditButtons = function(show, node) {\n        if ( !nodeTreeEvent.editing() || !show ) {\n            node.showEditButtons = show;\n        }\n    };\n\n    // Integer String (listof Node) -> Promise\n    // produce a new node in the nodetree and save it to the database\n    this.addSubNode = function(id, name, lon, workAreaId) {\n\n        // Set parameters\n        var node = {\n            'name': name + '.' + (lon.length + 1),\n            'parentNode': id,\n            'lock': true,\n            'index': lon.length,\n            'workarea': workAreaId\n        };\n\n        // Create new node under parent\n        var newNode = nodeHelper.newNode(node);\n\n        // Add newNode to the end of the list\n        lon.push(newNode);\n\n        // Add node to database\n        return workAreaEvent.wrap(api.nodes.post(workAreaId, newNode))\n\n        .then(function(node) {\n            lon[lon.length - 1] = node;\n            return node;\n        })\n\n        .catch(function(reason) {\n            lon.splice(lon.length - 1, 1);\n            notification.error('Could not create node', reason);\n            return reason;\n        });\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.nodeParent', [])\n\n.controller('nodeParentController', [\"nodeTreeFactory\", function(nodeTreeFactory) {\n    this.nodeTreeFactory = nodeTreeFactory;\n}])\n\n.directive('nodeParent', [\"nodeHelper\", function(nodeHelper) {\n    return {\n        restrict: 'E',\n        require: '^workArea',\n        templateUrl: 'js/components/workArea/node/nodeArea/parentNode/parentNode.jade',\n        scope: {\n            node: '=',\n            workArea: '=',\n            addSubItem: '&',\n        },\n        link: function($scope, element, attr, workAreaCtrl) {\n\n            $scope.setActiveNode = function(node) {\n                nodeHelper.setActiveNode(node);\n                workAreaCtrl.updateActiveNode();\n            };\n\n            $scope.patchNode = function(workArea, node, newVal) {\n                return nodeHelper.patchNode(workArea.hash_id, node.id, newVal)\n\n                .then(function(node) {\n                    $scope.setActiveNode(node);\n                });\n            };\n\n        }\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.nodeHelper', [\n    'navotron.workArea',\n    'navotron.api',\n    'navotron.notification',\n])\n\n.factory('nodeTreeEvent', [\"$rootScope\", function($rootScope) {\n    var editing = false;\n\n    $rootScope.$on('nodetree.edit.start', function() {\n        editing = true;\n    });\n\n    $rootScope.$on('nodetree.edit.stop', function() {\n        editing = false;\n    });\n\n    return {\n        start: function() {\n            $rootScope.$emit('nodetree.edit.start');\n        },\n\n        stop: function() {\n            $rootScope.$emit('nodetree.edit.stop');\n        },\n\n        wrap: function(promise) {\n            $rootScope.$emit('nodetree.edit.start');\n            promise.finally(function() {\n                $rootScope.$emit('nodetree.edit.stop');\n            });\n            return promise;\n        },\n\n        editing: function() {\n            return editing;\n        }\n    };\n}])\n\n.service('nodeHelper', [\"api\", \"notification\", \"workAreaEvent\", \"nodeTreeEvent\", \"session\", function(api, notification, workAreaEvent, nodeTreeEvent, session) {\n\n    // -> Workarea\n    // get the active workarea\n    this.getActiveNode = function() {\n        session.load();\n        return session.activeNode;\n    };\n\n    // Workarea -> Workarea\n    // set active workarea and return it\n    this.setActiveNode = function(activeNode) {\n        session.set('activeNode', activeNode);\n        return activeNode;\n    };\n\n    // Node -> Node\n    // produce a node with the attribute hidden set to true\n    this.hideNode = function(node) {\n        node.hidden = true;\n        return node;\n    };\n\n    // String Integer Node -> Promise\n    // delete a node and either remove it or show it again\n    this.deleteNodeFromDatabase = function(nodeScope, node) {\n\n        // Delete node\n        workAreaEvent.wrap(api.nodes.delete(node.workarea, node.id))\n\n        .then(function(result) {\n            nodeScope.remove();\n            return true;\n        })\n\n        .catch(function(reason) {\n            notification.error('Could not remove node', reason);\n            node.hidden = false;\n            return false;\n        });\n    };\n\n    // String Integer Boolean listof(Keyword) listof(Node) -> Node\n    // produce a node for the nodetree\n    this.newNode = function(node) {\n        return {\n            name: node.name,\n            parentNode: typeof node.parentNode !== 'undefined' ? node.parentNode : null,\n            children: typeof node.children !== 'undefined' ? node.children : [],\n            keywords: typeof node.keywords !== 'undefined' ? node.keywords : [],\n            lock: typeof node.lock !== 'undefined' ? node.lock : false,\n            index: typeof node.index !== 'undefined' ? node.index : 0,\n            workarea: typeof node.workarea !== 'undefined' ? node.workarea : null,\n        };\n    };\n\n    // Source Dest -> Boolean\n    // produce true if parentnode has changed or position index then update position\n    this.changedPosition = function(source, dest) {\n        return (source.nodesScope.$id !== dest.nodesScope.$id) || (source.index !== dest.index);\n    };\n\n    // Node -> Integer or Null\n    // produce the id value of a parent node\n    this.getParentNode = function(node) {\n        if (node === undefined) {\n            return null;\n        }\n        else {\n            return node.id;\n        }\n    };\n\n    // (listof Node) (Integer or Null) -> (listof Node)\n    // produce a list of nodes, with new updated indexes.\n    this.getMovingNodes = function(destNodes, destParentNode) {\n        var nodes = [];\n        var index = 1;\n\n        angular.forEach(destNodes, function(node) {\n\n            this.push({\n                'id': node.id,\n                'index': index,\n                'parentNode': destParentNode\n            });\n\n            index += 1;\n\n        }, nodes);\n\n        return nodes;\n    };\n\n    // (listof Node) Boolean -> (listof NodeScope)\n    // produce a list of nodes with updated lock attribute\n    this.lockNode = function(nodes, lock) {\n        angular.forEach(nodes, function(node) {\n            node.lock = lock;\n        });\n\n        return nodes;\n    };\n\n    // String (listof Node) Node (listof NodeScope)  ->\n    // lock the nodes and then update the\n    this.updateIndexes = function(workAreaId, nodes, sourceNode, destNodes) {\n\n        // Lock node before change\n        var lockNode = this.lockNode;\n        lockNode(destNodes, true);\n\n        // Update the node\n        workAreaEvent.wrap(api.nodes.patchBulk(workAreaId, nodes))\n\n        // Unlock the node and set the new parent for the node\n        .then(function(nodes) {\n            lockNode(destNodes, false);\n            sourceNode.parentNode = nodes.parentNode;\n        })\n\n        .catch(function(reason) {\n            lockNode(destNodes, false);\n            notification.error('Could not move workarea', reason);\n        });\n    };\n\n    // String Integer NodeParams -> Promise\n    // produce the update the given nodes name or go back to the old one\n    this.patchNode = function(workAreaId, nodeId, params) {\n        return workAreaEvent.wrap(api.nodes.patch(workAreaId, nodeId, params))\n\n        .then(function(nodes) {\n            return nodes;\n        })\n\n        .catch(function(reason) {\n            notification.error('Could not update the node.', reason);\n            return reason;\n        });\n    };\n\n    // Node -> Integer\n    // produce the sum of all keywords in a node\n    this.sumSearchVolume = function(node) {\n        var sum = 0;\n\n        if (node) {\n            var keywords = node.keywords;\n\n            angular.forEach(keywords, function(object) {\n                sum += object.volume;\n            });\n        }\n\n        return sum;\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.showNode', [\n    'angucomplete-alt',\n    'navotron.api',\n    'navotron.keyword',\n    'navotron.modifyField',\n    'navotron.nodeHelper',\n    'pageslide-directive',\n    'ui.bootstrap',\n])\n\n.directive(\"showNode\", [\"nodeHelper\", \"showNodeFactory\", \"keywordHelper\", function(nodeHelper, showNodeFactory, keywordHelper) {\n    return {\n        restrict: 'E',\n        scope: {\n            node: '=',\n        },\n        templateUrl: 'js/components/workArea/node/showNode/showNodeView.jade',\n        link: function($scope) {\n            $scope.showEditNode = false;\n\n            let hello = 'asd';\n\n\n\n            $scope.$watch('node', function(newValue, oldValue) {\n                if ( newValue === undefined ) {\n                    return;\n                }\n\n                $scope.keywords = [];\n                showNodeFactory.getKeywords({'nodes': $scope.node.id})\n                .then(function(keywords) {\n                    $scope.keywords = keywords;\n                });\n            });\n\n            $scope.updateSearchKeywords = function() {\n                showNodeFactory.getKeywords({})\n                .then(function(keywords) {\n                    $scope.searchKeywords = keywords;\n                });\n            };\n\n            $scope.toggle = function() {\n                $scope.showEditNode = !$scope.showEditNode;\n            };\n\n            $scope.addKeywordToNode = function(obj) {\n                if (obj === undefined) {\n                    return;\n                }\n\n                (function() {\n                    if ('id' in obj.originalObject) {\n                        var newKeywordList = [obj.originalObject].concat($scope.keywords);\n                        return showNodeFactory.updateNode($scope.node, newKeywordList);\n                    }\n\n                    return showNodeFactory.createKeyword($scope.node, obj.originalObject.name);\n                })()\n\n                .then(function(keywords) {\n                    $scope.keywords = keywords;\n                    $scope.$broadcast('angucomplete-alt:clearInput');\n                    $scope.updateSearchKeywords();\n                });\n\n            };\n\n            $scope.removeKeyword = function(index) {\n                var newKeywordList = angular.copy($scope.keywords);\n                newKeywordList.splice(index, 1);\n\n                showNodeFactory.updateNode($scope.node, newKeywordList)\n                .then(function(keywords) {\n                    $scope.keywords = keywords;\n                });\n            };\n\n            $scope.updateSearchKeywords();\n        }\n    };\n}])\n\n.service('showNodeFactory', [\"$modal\", \"$stateParams\", \"workAreaEvent\", \"api\", \"keywordHelper\", function($modal, $stateParams, workAreaEvent, api, keywordHelper) {\n    var self = this;\n\n    self.convertList = function(list, key) {\n        var returnList = [];\n        angular.forEach(list, function(item) {\n            this.push(item[key]);\n        }, returnList);\n\n        return returnList;\n    };\n\n    self.createKeyword = function(node, keywordName) {\n        var newKeyword = keywordHelper.newKeyword({\n            'keyword': keywordName,\n            'workarea': $stateParams.workAreaId,\n            'type': 'SECONDARY',\n            'nodes': [node.id],\n        });\n\n        return workAreaEvent.wrap(api.keywords.post($stateParams.workAreaId, newKeyword))\n\n        .then(function(keyword) {\n            return self.getKeywords({'nodes': node.id});\n        });\n    };\n\n    self.updateNode = function(node, keywords) {\n        var nodeParams = {\n            keywords: self.convertList(keywords, 'id'),\n        };\n\n        return workAreaEvent.wrap(api.nodes.patch($stateParams.workAreaId, node.id, nodeParams))\n\n        .then(function(node) {\n            return self.getKeywords({'nodes': node.id});\n        });\n    };\n\n    self.getKeywords = function(params) {\n        return workAreaEvent.wrap(api.keywords.get($stateParams.workAreaId, params));\n    };\n\n    self.addEmptyKeywords = function(keywords) {\n        for (var i = 0; i < 4; i++) {\n            if ( keywords[i] === undefined ) {\n                keywords.push({});\n            }\n        }\n\n        return keywords;\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.addKeywords', ['navotron.api'])\n\n.controller('addKeywords', [\"$scope\", \"$modalInstance\", \"createKeywords\", \"workAreaId\", \"nodeId\", \"workAreaEvent\", \"api\", function($scope, $modalInstance, createKeywords, workAreaId, nodeId, workAreaEvent, api) {\n    $scope.add = function() {\n        if ( $scope.keywordItems ) {\n            var lok = createKeywords(workAreaId, nodeId, $scope.keywordItems.split('\\n'));\n\n            workAreaEvent.wrap(api.keywords.postBulk(workAreaId, lok))\n\n            .then(function(keywords) {\n                $modalInstance.close(keywords);\n            });\n        }\n        else {\n            $scope.cancel();\n        }\n    };\n\n    $scope.cancel = function() {\n        $modalInstance.dismiss('cancel');\n    };\n}])\n\n.factory('createKeywords', [\"$filter\", function($filter) {\n\n    // String (listof Integer) (listof String) -> Keyword\n    // produce a keyword from a string, nodeIds and a workareaId\n    var createKeyword = function(workAreaId, nodeIds, los) {\n\n        var defaultKeyword = {\n            'workarea': workAreaId,\n            'timestamp': null,\n            'keyword': los[0].trim(),\n            'nodes': nodeIds\n        };\n\n        return defaultKeyword;\n    };\n\n    // Keyword (listof Keyword) -> Boolean\n    // produce true if keyword is in the list of keywords\n    var keywordInArray = function(k, lok) {\n        var result = false;\n\n        angular.forEach(lok, function(v) {\n            if (v.keyword === k.keyword) {\n                result = true;\n            }\n        });\n\n        return result;\n    };\n\n    // String (listof Integer) (listof String) -> (listof Keyword)\n    // produce a listof keyword from a listof string\n    var processStrings = function(workAreaId, nodeIds, los) {\n        var lok = [];\n        var keyword;\n\n        angular.forEach(los, function(s) {\n            keyword = createKeyword(workAreaId, nodeIds, s.split(','));\n            if (keywordInArray(keyword, this)) {\n                return;\n            }\n            if (keyword.keyword === '') {\n                return;\n            }\n            this.push(keyword);\n        }, lok);\n\n        return lok;\n    };\n\n    return processStrings;\n\n}]);\n\n'use strict';\n\nangular.module('navotron.updateKeywords', ['navotron.api'])\n\n.controller('updateKeywords', [\"$scope\", \"$modalInstance\", \"workAreaId\", \"currentNode\", \"workAreaEvent\", \"api\", function($scope, $modalInstance, workAreaId, currentNode, workAreaEvent, api) {\n\n    $scope.updateCurrentKeywords = function() {\n        $scope.updateChoice = 'current';\n        $scope.keywords = currentNode.keywords;\n    };\n\n    $scope.updateAllKeywords = function() {\n        $scope.updateChoice = 'all';\n\n        workAreaEvent.wrap(api.keywords.get(workAreaId))\n\n        .then(function(keywords) {\n            $scope.keywords = keywords;\n        });\n    };\n\n    $scope.updateKeywordVolume = function() {\n        workAreaEvent.wrap(api.keywords.updateVolume(workAreaId))\n        .then($scope.updateAllKeywords);\n    };\n\n    $scope.isCurrentUpdateChoice = function(updateChoice) {\n        return (updateChoice === $scope.updateChoice);\n    };\n\n    $scope.add = function() {\n        $modalInstance.close('result');\n    };\n\n    $scope.cancel = function() {\n        $modalInstance.dismiss('cancel');\n    };\n\n    $scope.updateCurrentKeywords();\n}]);\n\n'use strict';\n\nangular.module('navotron.preview', [\n    'navotron.previewPage',\n    'navotron.previewHelp',\n])\n\n.directive('preview', [\"api\", \"session\", function(api, session) {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/workArea/preview/preview.jade',\n        scope: {\n            nodes: '='\n        },\n        controller: [\"$scope\", function($scope) {\n            this.setHelpSection = function(helpSection) {\n                $scope.helpSection = helpSection;\n            };\n        }]\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.previewHelp', [])\n\n.directive('helpText', function() {\n    return {\n        restrict: 'E',\n        transclude: true,\n        templateUrl: 'js/components/workArea/preview/previewHelp/previewHelp.jade',\n        scope: {\n            helpSection: '='\n        },\n    };\n});\n\n'use strict';\n\nangular.module('navotron.previewPage', ['navotron.previewText'])\n\n.directive('previewPage', function() {\n    return {\n        restrict: 'E',\n        transclude: true,\n        templateUrl: 'js/components/workArea/preview/previewPage/previewPage.jade',\n        scope: {\n            nodes: '='\n        },\n        link: function(scope, elem, attrs) {\n\n            scope.setActiveNode = function(node) {\n                scope.activeNode = node;\n            };\n\n            scope.toggle = function(node) {\n                node.active = !node.active;\n            };\n\n            scope.setParent = function(node) {\n                scope.parentNode = node;\n                scope.childNodes = node.children;\n            };\n\n        }\n    };\n});\n\n'use strict';\n\nangular.module('navotron.previewText', [])\n\n.directive('previewText', function() {\n    return {\n        restrict: 'E',\n        require: '^preview',\n        templateUrl: 'js/components/workArea/preview/previewText/previewText.jade',\n        scope: {\n            node: '=',\n        },\n        link: function(scope, element, attr, previewCtrl) {\n            scope.previewCtrl = previewCtrl;\n        },\n    };\n})\n\n.directive('previewArea', function() {\n    return {\n        restrict: 'E',\n        template: '<div ng-transclude></div>',\n        transclude: true,\n        scope: {},\n        replace: true,\n        controller: [\"$scope\", function($scope) {\n            var self = this;\n\n            this.showHelp = function() {\n                self.textColor = {color: 'red'};\n            };\n\n            this.hideHelp = function() {\n                self.textColor = {color: 'auto'};\n            };\n        }],\n    };\n})\n\n.directive('previewSection', function() {\n    return {\n        restrict: 'EA',\n        require: '^previewArea',\n        transclude: true,\n        templateUrl: 'js/components/workArea/preview/previewText/previewSection.jade',\n        scope: {},\n        replace: true,\n        link: function(scope, element, attrs, previewAreaCtrl) {\n            scope.previewAreaCtrl = previewAreaCtrl;\n        },\n    };\n})\n\n.directive('previewQuestion', function() {\n    return {\n        restrict: 'EA',\n        require: '^previewArea',\n        transclude: true,\n        templateUrl: 'js/components/workArea/preview/previewText/previewQuestion.jade',\n        scope: {},\n        replace: true,\n        link: function(scope, element, attrs, previewAreaCtrl) {\n            scope.previewAreaCtrl = previewAreaCtrl;\n        },\n    };\n});\n\n'use strict';\n\nangular.module('navotron.resolver', [])\n\n.factory('workAreaResolver', [\"$state\", \"workAreaHelper\", \"nodeHelper\", \"api\", function($state, workAreaHelper, nodeHelper, api) {\n\n    var currentWorkArea = function(workAreaId) {\n        if ( workAreaId !== \"\" ) {\n            return api.workareas.getOne(workAreaId)\n            .then(function(workarea) {\n                workAreaHelper.setActiveWorkarea(workarea);\n                return workarea;\n            });\n        }\n        else {\n            return workAreaHelper.createWorkarea('http://www.new-workarea.se')\n\n            .then(function(workArea) {\n                api.nodes.post(workArea.hash_id, nodeHelper.newNode({ name: 'Home', workarea: workArea.hash_id }))\n\n                .then(function(node) {\n                    $state.go('root.workArea.navigation', {\n                        workAreaId: workArea.hash_id\n                    });\n\n                    return workArea;\n                });\n\n            });\n        }\n    };\n\n    return currentWorkArea;\n}])\n\n.factory('nodeResolver', [\"$stateParams\", \"api\", function($stateParams, api) {\n\n    var currentNodes = function(workAreaId) {\n        if ( workAreaId !== \"\" ) {\n            return api.nodes.getNested(workAreaId);\n        }\n\n        return [];\n    };\n\n    return currentNodes;\n}]);\n\n'use strict';\n\nangular.module('navotron.workAreaSettings', [])\n\n.controller('settingsController', [\"formFactory\", \"settingsFactory\", function(formFactory, settingsFactory) {\n    this.formFactory = formFactory;\n    this.settingsFactory = settingsFactory;\n    this.settingsFactory.getWorkarea();\n}])\n\n.directive(\"workAreaSettings\", function() {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/workArea/settings/settingsView.jade',\n    };\n})\n\n.service('formFactory', function() {\n    var self = this;\n    self.trySubmitted = false;\n\n    self.fieldError = function(field) {\n        return (field.$invalid && (!field.$pristine || self.trySubmitted));\n    };\n\n    self.fieldRequired = function(field) {\n        return (field.$error.required && (!field.$pristine || self.trySubmitted));\n    };\n\n    self.fieldErrorOrRequired = function(field) {\n        return (self.fieldError(field) || self.fieldRequired(field));\n    };\n})\n\n.service('settingsFactory', [\"session\", \"api\", \"notification\", \"workAreaHelper\", function(session, api, notification, workAreaHelper) {\n    var self = this;\n    self.workArea = undefined;\n\n    self.getWorkarea = function() {\n        if ( self.showSettings() ) {\n            api.workareas.getOne(session.activeWorkArea.hash_id)\n            .then(function(workarea) {\n                self.workArea = workarea;\n            });\n        }\n    };\n\n    self.showSettings = function() {\n        return session.hasSetProperty('activeWorkArea');\n    };\n\n    self.saveWorkarea = function() {\n        if ( self.workArea !== undefined ) {\n            api.workareas.put(session.activeWorkArea.hash_id, self.workArea)\n            .then(function(workarea) {\n                self.workArea = workAreaHelper.setActiveWorkarea(workarea);\n                notification.success('All changes saved');\n            })\n\n            .catch(function(reason) {\n                notification.error('All changes saved', reason);\n            });\n        }\n    };\n}]);\n\n'use strict';\n\nangular.module('navotron.workArea', [\n    'navotron.api',\n    'navotron.controlPanel',\n    'navotron.keywordList',\n    'navotron.nodeArea',\n    'navotron.preview',\n    'navotron.showNode',\n])\n\n.directive('workArea', [\"nodeHelper\", function(nodeHelper) {\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/workArea/workAreaView.jade',\n        scope: {},\n        controller: [\"$scope\", function($scope) {\n            this.updateActiveNode = function() {\n                $scope.activeNode = nodeHelper.getActiveNode();\n            };\n        }]\n    };\n}])\n\n.factory('workAreaEvent', [\"$rootScope\", function($rootScope) {\n    var editing = false;\n\n    $rootScope.$on('nodetree.http.start', function() {\n        editing = true;\n    });\n\n    $rootScope.$on('nodetree.http.stop', function() {\n        editing = false;\n    });\n\n    return {\n        wrap: function(promise) {\n            $rootScope.$emit('nodetree.http.start');\n            promise.finally(function() {\n                $rootScope.$emit('nodetree.http.stop');\n            });\n            return promise;\n        },\n\n        editing: function() {\n            return editing;\n        }\n    };\n}])\n\n.service('workAreaHelper', [\"$timeout\", \"session\", \"api\", \"workAreaEvent\", \"notification\", function($timeout, session, api, workAreaEvent, notification) {\n\n    // WorkareaParams -> Workarea\n    // produce a workarea\n    this.newWorkArea = function(params) {\n        return {\n            site_url: params.siteUrl,\n            owner: typeof params.owner !== 'undefined' ? params.owner : null,\n            nodes: typeof params.nodes !== 'undefined' ? params.nodes : [],\n            keywords: typeof params.keywords !== 'undefined' ? params.keywords : [],\n        };\n    };\n\n    // String String -> Promise\n    // produce a new workarea and then reload the current view with it.\n    this.createWorkarea = function(siteUrl) {\n\n        var newWorkArea = this.newWorkArea({\n            siteUrl: siteUrl,\n            owner: session.user.id,\n        });\n\n        // Load or create workarea\n        return workAreaEvent.wrap(api.workareas.post(newWorkArea))\n\n        .catch(function(reason) {\n            notification.error('Could not create workarea', reason);\n        });\n    };\n\n    // String WorkAreaParams -> Promise\n    // produce the update the given workarea\n    this.patchWorkarea = function(workAreaId, params) {\n        return workAreaEvent.wrap(api.workareas.patch(workAreaId, params))\n\n        .catch(function(reason) {\n            notification.error('Could not update the workarea.', reason);\n            return reason;\n        });\n    };\n\n    // Workarea Integer -> Promise\n    // produce a promise with a comfirmation that the workarea was removed\n    this.delete = function(workarea, index) {\n        var self = this;\n\n        $timeout(function() {\n            workarea.deleting = true;\n        }, 500);\n\n        return api.workareas.delete(workarea.hash_id)\n        .then(function(result) {\n            if (workarea.hash_id === self.getActiveWorkarea().hash_id) {\n                self.setActiveWorkarea(undefined);\n            }\n\n            return result;\n        });\n    };\n\n    // -> Workarea\n    // get the active workarea\n    this.getActiveWorkarea = function() {\n        session.load();\n        return session.activeWorkArea;\n    };\n\n    // Workarea -> Workarea\n    // set active workarea and return it\n    this.setActiveWorkarea = function(activeWorkArea) {\n        session.set('activeWorkArea', activeWorkArea);\n        return activeWorkArea;\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.workAreaList', ['navotron.api'])\n\n.directive(\"workAreaList\", [\"workAreaHelper\", \"api\", function(workAreaHelper, api) {\n\n    return {\n        restrict: 'E',\n        templateUrl: 'js/components/workArea/workAreaListView.jade',\n        controller: [\"$scope\", function($scope) {\n            api.workareas.get().then(function(workareas) {\n                $scope.workareas = workareas;\n            });\n\n            $scope.delete = function(workarea, index) {\n                workAreaHelper.delete(workarea, index)\n                .then(function(result) {\n                    $scope.workareas.splice(index, 1);\n                });\n            };\n\n        }]\n    };\n\n}]);\n\n'use strict';\n\nangular.module('navotron.datadef', [])\n\n.factory('datadef', function() {\n\n    var datadef = {};\n\n    // DATADEFINITIONS\n    // --------------------------------------------------\n\n    // SearchParams is { search: String, ordering: String }\n        // search           - The search string, will match *searchstring*.\n        // ordering         - For asending order \"name\", for descending \"-name\".\n        // limit            - Maximum number of items to return.\n        // offset           - The offset indicates the starting position of the query.\n\n    datadef.SP1 = { search: '', ordering: '', limit: '', offset: '' };\n    datadef.SP2 = { search: '', ordering: 'name', limit: '0', offset: '10' };\n    datadef.SP3 = { search: '', ordering: '-name', limit: '10', offset: '10' };\n    datadef.SP4 = { search: 'linu', ordering: 'name', limit: '10', offset: '100' };\n\n    // RestUrl is string:\n    // interp. the URL used in rest calls.\n\n        // | URL                                                    | VERB   | RESPONSE           |\n        // ----------------------------------------------------------------------------------------\n        // | /workareas                                             | GET    | LIST all WORKAREAS |\n        // | /workareas                                             | POST   | SAVE WORKAREA      |\n        // | /workareas/<integer>                                   | GET    | SHOW WORKAREA      |\n        // | /workareas/<integer>                                   | PUT    | UPDATE WORKAREA    |\n        // | /workareas/<integer>                                   | DELETE | DELETE WORKAREA    |\n\n    datadef.RURL_WORKAREA_LIST = '/workareas';\n    datadef.RURL_WORKAREA_DETAIL = '/workareas/123';\n\n        // | URL                                                    | VERB   | RESPONSE           |\n        // ----------------------------------------------------------------------------------------\n        // | /workareas/<integer>/nodes                             | GET    | LIST all NODES     |\n        // | /workareas/<integer>/nodes                             | POST   | SAVE NODE          |\n        // | /workareas/<integer>/nodes/<integer>                   | GET    | SHOW NODE          |\n        // | /workareas/<integer>/nodes/<integer>                   | PUT    | UPDATE NODE        |\n        // | /workareas/<integer>/nodes/<integer>                   | DELETE | DELETE NODE        |\n\n    datadef.RURL_NODE_LIST = '/workareas/123/nodes';\n    datadef.RURL_NODE_DETAIL = '/workareas/123/nodes/123';\n\n        // | URL                                                    | VERB   | RESPONSE              |\n        // -------------------------------------------------------------------------------------------\n        // | /workareas/<integer>/keywords                             | GET    | LIST all KEYWORDS  |\n        // | /workareas/<integer>/keywords                             | POST   | SAVE KEYWORDS      |\n        // | /workareas/<integer>/keywords/<integer>                   | GET    | SHOW KEYWORDS      |\n        // | /workareas/<integer>/keywords/<integer>                   | PUT    | UPDATE KEYWORDS    |\n        // | /workareas/<integer>/keywords/<integer>                   | DELETE | DELETE KEYWORDS    |\n\n    datadef.RURL_NODE_LIST = '/workareas/123/nodes';\n    datadef.RURL_NODE_DETAIL = '/workareas/123/nodes/123';\n\n    // WorkArea is { hash_id : Integer, site_url : String, owner : Integer }:\n        // hash_id          - the hash_id of the workarea\n        // site_url         - the site_url of the workarea\n        // owner            - the owner of the workarea\n        // interp. a representation of the workarea\n\n    datadef.WA1 = { 'hash_id' : 'asdasd', 'site_url' : 'http://linus-little-haven.se', 'owner' : 1, 'country': 'SE' };\n    datadef.WA2 = { 'hash_id' : 'fwergwvfd', 'site_url' : 'http://my-special-place.se', 'owner' : 1, 'country': 'SE' };\n    datadef.WA3 = { 'hash_id' : 'asdascdscae', 'site_url' : 'http://the-rankor-cave.se', 'owner' : 2, 'country': 'SE' };\n\n        // function fn_for_work_area(wa) {\n        //  return wa['hash_id']... wa['site_url']... wa['site_url']...\n        // }\n\n\n    // Element is { id : String, childNodes : (listof Element), nodeName : String, innerText : String, getAttribute : function() }:\n        // id               - the id of the html element\n        // childNodes       - the childNodes under a html element\n        // nodeName         - the name of the node\n        // innerText        - the text of the element\n        // getAttribute     - a function that returns the attribute value from a element\n        // interp. a html element in the dom\n\n    //jscs:disable validateIndentation\n    datadef.HTML1 = $.parseHTML(\n        ['<ul>',\n            '<li id=\"1\" name=\"Home\">',\n                '<div>Home</div>',\n            '</li>',\n            '<li id=\"5\" name=\"Category\">',\n                '<div>Category</div>',\n                '<span>',\n                    '<ul>',\n                        '<li id=\"2\" name=\"Produkt 1\">',\n                            '<div>Produkt 1</div>',\n                        '</li>',\n                        '<li id=\"3\" name=\"Product 2\">',\n                            '<div>Product 2</div>',\n                        '</li>',\n                        '<li id=\"4\" name=\"Product 3\">',\n                            '<div>Product 3</div>',\n                        '</li>',\n                    '</ul>',\n                '</span>',\n            '</li>',\n        '</ul>'].join('\\n'));\n    //jscs:enable validateIndentation\n\n        // function fn_for_element(n) {\n        //  return n['id']... n['nodeName']... n['childNodes']... n['childNodes']...\n        // }\n\n\n    // SearchQuery is { keywords : (listof String), country : String, limit : Integer }\n        // keywords         - Specifies the list of keywords to search against.\n        // country          - Specifies the territory to search within. Two letter ISO country code or \"global\".\n        // limit            - Specifies the number of returned results. (deafult 10)\n\n    datadef.SQ1 = {\n        'keywords': ['vr', 'fast elpris', 'elavtal'],\n        'country': 'se',\n        'limit': 100,\n    };\n\n    datadef.SQ2 = {\n        'keywords': ['party', 'moped'],\n        'country': 'en',\n        'limit': 100,\n    };\n\n    datadef.SQ3 = {\n        'keywords': ['i_do_not_exist_as_a_keyword', 'neither_do_I_my_friend'],\n        'country': 'en',\n        'limit': 100,\n    };\n\n        // function fn_for_search_query(n) {\n        //  return n['keywords']... n['country']... n['limit']...\n        // }\n\n\n    // Keyword is { volume : Integer, timestamp : String, country : String, keyword : String }\n        // volume           - Number of searches.\n        // timestamp        - Has the highest date value from the specified range of dates.\n        // country          - Specifies the territory to search within. Two letter ISO country code or 'global'.\n        // keyword          - The keword that was searched for.\n\n    datadef.SV1 = {\n        'volume': 5400,\n        'timestamp': '2014-08-01',\n        'country': 'EN',\n        'keyword': 'comics'\n    };\n\n    datadef.SV2 = {\n        'volume': 9900,\n        'timestamp': '2014-08-01',\n        'country': 'EN',\n        'keyword': 'comic'\n    };\n\n    datadef.SV3 = {\n        'volume': 9900,\n        'timestamp': '2014-08-01',\n        'country': 'EN',\n        'keyword': 'batman comic'\n    };\n\n    datadef.SV4 = {\n        'volume': 70,\n        'timestamp': '2014-08-01',\n        'country': 'EN',\n        'keyword': 'green lantern comic'\n    };\n\n    datadef.SV5 = {\n        'volume': 390,\n        'timestamp': '2014-08-01',\n        'country': 'EN',\n        'keyword': 'superman comic'\n    };\n\n        // function fn_for_search_query(n) {\n        //  return n['volume']... n['timestamp']... n['country']... n['keyword']...\n        // }\n\n\n    // SearchVolumeResult is { result : (listof Keyword), total : Integer, took :  Integer }\n        // result           - The result of the search on keywords with search volume, can be empty\n        // total            - The amount of keywords that where returned in the request\n        // took             - The amount of time the request took in milliseconds. (I think)\n\n    datadef.SVR1 = {\n        'results': [\n            datadef.SV1,\n            datadef.SV2,\n            datadef.SV3\n        ],\n        'total': 3,\n        'took': 2\n    };\n\n    datadef.SVR2 = {\n        'results': [],\n        'total': 0,\n        'took': 2\n    };\n\n        // function fn_for_search_query(n) {\n        //  return n['results']... n['total']... n['took']...\n        // }\n\n    // Node is { id : Integer, name : String, children : (listof Node), keywords : (listof Keyword) }:\n        // id           - the id for the node\n        // name         - the name of the node\n        // children     - a list of childnodes, can be empty\n        // keywords     - a list of keywords connected to the node\n        // parentNode   - the parent node id\n        // workarea     - the hash_id of the workarea\n        // index        - an index to indicate the order of the nodes\n        // interp. a representation of a node i in a treestructure\n\n    datadef.N1 = { 'id' : '1', 'index': 0, 'parentNode' : null, 'workarea' : '1',  'name' : 'Home', 'children' : [], 'keywords' : [] };\n    datadef.N2 = { 'id' : '2', 'index': 0, 'parentNode' : 5, 'workarea' : '1',  'name' : 'Superman', 'children' : [], 'keywords' : [datadef.SV5] };\n    datadef.N3 = { 'id' : '3', 'index': 1, 'parentNode' : 5, 'workarea' : '1',  'name' : 'Batman', 'children' : [], 'keywords' : [datadef.SV3] };\n    datadef.N4 = { 'id' : '4', 'index': 2, 'parentNode' : 5, 'workarea' : '1',  'name' : 'Green Lantern', 'children' : [], 'keywords' : [datadef.SV4] };\n    datadef.N5 = { 'id' : '5', 'index': 1, 'parentNode' : null, 'workarea' : '1',  'name' : 'Comics', 'children' : [datadef.N2, datadef.N3, datadef.N4], 'keywords' : [datadef.SV1, datadef.SV2] };\n    datadef.N6 = { 'id' : '6', 'index': 2, 'parentNode' : null, 'workarea' : '1',  'name' : 'About us', 'children' : [], 'keywords' : [] };\n    datadef.N7 = { 'id' : '7', 'index': 3, 'parentNode' : null, 'workarea' : '1',  'name' : 'Contact us', 'children' : [], 'keywords' : [] };\n\n        // EXAMPLE:\n        // root\n        // - Home\n        // - Category\n        //      - Product 1\n        //      - Product 2\n        //      - Product 3\n        // - About us\n        // - Contact us\n\n        // function fn_for_node(n) {\n        //  return n['id']... n['name']... n['children']... n['keywords']...\n        // }\n\n    return datadef;\n\n});\n"]}